<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ks49team01.admin.mapper.AdminSalesMapper">


	<resultMap type="AdminSales" id="usersResultMap">
		<id 	column="daily_sales_code" 		property="daily_sales_code" />
		<result column="branch_code" 		property="branchCode"/>
		<result column="daily_sales_day" 		property="DailySalesDay"/>
		<result column="total_price" 		property="totalPrice"/>
		<result column="daily_sales_reg_time" 		property="dailySalesRegTime"/>
	</resultMap>
	
	<select id="getBranchSalesList" resultMap="usersResultMap">

SELECT  CAST(SUBSTRING_INDEX(daily_sales_code, '_', -1) AS SIGNED) AS daily_sales_code, branch_code, daily_sales_day, total_price, daily_sales_reg_time
	FROM daily_sales
	ORDER BY 
    SUBSTRING_INDEX(daily_sales_code, '_', 1) ASC;
	</select>

</mapper>